<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link href="/style.css" rel="stylesheet" />
    <title>
      BTHome: Open standard for broadcasting sensor data over Bluetooth LE
    </title>
    <link rel="icon" href="/images/bthome-favicon.png" type="image/png" />
    <meta
      name="description"
      content="Free and open standard for broadcasting sensor data over Bluetooth LE."
    />
    <meta name="viewport" content="width=device-width" />
    <meta
      property="og:title"
      content="BTHome: Open standard for broadcasting sensor data over Bluetooth LE."
    />
    <meta property="og:site_name" content="BTHome" />
    <meta property="og:url" content="https://bthome.io" />
    <meta property="og:type" content="website" />
    <meta
      property="og:description"
      content="Free and open standard for broadcasting sensor data over Bluetooth LE."
    />
    <meta property="og:image" content="https://bthome.io/images/social.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="BTHome: Open standard for broadcasting sensor data over Bluetooth LE"
    />
    <meta
      name="twitter:description"
      content="Free and open standard for broadcasting sensor data over Bluetooth LE."
    />
    <meta name="twitter:image" content="https://bthome.io/images/social.png" />
  </head>
  <body>
    <div class="container">
      <a class="header" href="/" class="title"
        ><img src="/images/logo.png" alt="BTHome logo"
      /></a>

      <div class="content">
        <h2>
          BTHome is an open standard for broadcasting sensor data over Bluetooth
          LE
        </h2>

        <p>
          BTHome is an energy efficient but flexible BLE format for devices to
          broadcast their sensor data. Devices can run over a year on a single
          battery. It allows data encryption and is supported by popular home
          automation platforms, like
          <a href="https://www.home-assistant.io">Home&nbsp;Assistant</a>, out
          of the box.
        </p>

        <img
          src="/images/overview.png"
          alt="Picture showing a Bluetooth temperature sensor broadcasting it's data to Home Assistant, showing it formatted to the user."
        />

        <p>
          <i
            >BTHome is part of the Open Home and aims to create smart homes that
            offer privacy, choice and durability.
            <a href="https://www.open-home.io/"
              >Learn more about the Open Home.</a
            ></i
          >
        </p>

        <h3>Projects using BTHome</h3>

        <div class="project">
          <div class="logo">
            <img src="/images/home-assistant.png" alt="Home Assistant logo" />
          </div>
          <div class="info">
            <h3>Home Assistant</h3>
            <p>
              Open source home automation with a focus on local control and
              privacy. Automatically discovers BTHome devices and allows users
              to add them to their home with a single click.
            </p>
            <p>
              <a href="https://www.home-assistant.io" target="_blank"
                >Website</a
              >
            </p>
          </div>
        </div>

        <div class="project">
          <div class="logo">
            <img
              src="/images/atc-mithermometer.png"
              alt="ATC MiThermometer logo"
            />
          </div>
          <div class="info">
            <h3>ATC MiThermometer</h3>
            <p>
              Custom firmware for several Bluetooth thermometer & hygrometer
              devices that can broadcast temperature and humidity via BTHome.
            </p>
            <p>
              Use their
              <a
                href="https://pvvx.github.io/ATC_MiThermometer/TelinkMiFlasher.html"
                target="_blank"
                >TelinkMiFlasher.html</a
              >
              tool to upgrade your device directly from your browser. Once
              installed, change the advertising type to "BTHome" and click "Send
              Config".
            </p>
            <p>
              <a
                href="https://github.com/pvvx/ATC_MiThermometer#readme"
                target="_blank"
                >Website</a
              >
            </p>
          </div>
        </div>

        <div class="project">
          <div class="logo">
            <img src="/images/b-parasite.png" alt="B-Parasite logo" />
          </div>
          <div class="info">
            <h3>b-parasite</h3>
            <p>
              b-parasite is an open source soil moisture and ambient
              temperature/humidity/light sensor that supports BTHome.
            </p>
            <p>
              <a href="https://github.com/rbaron/b-parasite" target="_blank"
                >Website</a
              >
            </p>
          </div>
        </div>

        <div class="project">
          <div class="logo">
            <img src="/images/esp32.png" alt="ESP32 logo" />
          </div>
          <div class="info">
            <h3>ESP32_BTHome</h3>
            <p>
              ESP32_BTHome is an example of using an ESP32 to send BLE advertisement packets
              in the BTHome format in such way that you have a very lightweight, energy efficient
              sensor. Between the broadcasting of BLE advertisements, the ESP32 will in a sleeping
              state, making it more suitable for battery powered sensors.
            </p>
            <p>
              <a href="https://github.com/TheDigital1/ESP32_BTHome" target="_blank"
                >Website</a
              >
            </p>
          </div>
        </div>

        <div class="project">
          <div class="logo">
            <img src="/images/esp32.png" alt="ESP32 logo" />
          </div>
          <div class="info">
            <h3>bthome-weather-station</h3>
            <p>
              bthome-weather-station is an example of using the Espressif IoT Development Framework (ESP-IDF)
              to read sensor data and send BLE advertisement packets in the BTHome format. It includes reading data,
              encoding to BTHome format, deep sleep and utilization of multiple cores for speed. The aim is to
              be easily extensible for adding your own sensors using I2C.
            </p>
            <p>
              <a href="https://github.com/stumpylog/bthome-weather-station" target="_blank"
                >Website</a
              >
            </p>
          </div>
        </div>

        <h3 id="ble-advertising">BLE advertising in the BTHome V2 format</h3>
        <p>
          We assume that you understand the basics of BLE advertisements (if not,
          <a href="https://www.bluetooth.com/blog/bluetooth-low-energy-it-starts-with-advertising/" target="_blank"
            >read this</a>). The BTHome V2 format can best be explained with an example.
            A BLE advertisement is a long message with bytes (bytestring).
        </p>
        <code style="word-break: break-word">
          043E2602010000A5808FE648541A
          0201060B094449592D73656E736F720A16FCD24002C40903BF13 CC
        </code>
        <p>
          This message is split up in three parts, the <strong>header</strong>,
          the <strong>advertising payload</strong> and an
          <strong>RSSI value</strong>
        </p>
        <ul>
          <li>
            Header:
            <code>043E2602010000A5808FE648541A</code>
          </li>
          <li style="word-break: break-word">
            Advertising payload
            <code>0201060B094449592D73656E736F720A16FCD24002C40903BF13</code>
          </li>
          <li>
            RSSI value (signal strength)
            <code>CC</code>
          </li>
        </ul>
        <h3 id="header">Header</h3>
        <p>
          The first part
          <code>043E2602010000A5808FE648541A</code>
          is the header of the message. The format is defined by the Bluetooth SIG
          organisation <a href="https://www.bluetooth.com/specifications/" target="_blank"
            >the official documentation</a> and contains, amongst others
        </p>
        <ul>
          <li>
            the length of the message in the third byte (<code>0x26</code>
            in hex is 38 in decimals, meaning 38 bytes after the third byte = 41
            bytes in total)
          </li>
          <li>
            the MAC address in reversed order in byte 8-13
            (<code>A5808FE64854</code>, in reversed order, this corresponds to a
            MAC address
            <code>54:48:E6:8F:80:A5</code>)
          </li>
          <li>
            the length of the advertising payload in byte 14 (<code>0x1A</code>
            = 26)
          </li>
        </ul>
        <h3 id="advertising-payload">Advertising payload</h3>
        <p>
          The second part
          <code>020106 0B094449592D73656E736F72 0A16FCD24002C40903BF13</code>
          contains the advertising payload, and can consist of one or more
          <strong>Advertising Data (AD) elements</strong>. Each element contains
          the following:
        </p>
        <ul>
          <li>
            1st byte: length of the element (excluding the length byte itself)
          </li>
          <li>
            2nd byte: AD type – specifies what
            <a href="https://btprodspecificationrefs.blob.core.windows.net/assigned-numbers/Assigned%20Number%20Types/Generic%20Access%20Profile.pdf" target="_blank"
            >data type</a> is included in the element
          </li>
          <li>
            AD data – one or more bytes - the meaning is defined by the AD type
          </li>
        </ul>
        <p>
          The advertising payload in BTHome format should at least contain the
          AD elements <strong>Flags</strong> and <strong>Service Data (16 bits
          UUID)</strong>. Optionally, you can add a <strong>Local Name</strong>.
        </p>
        <strong>Flags (<code>0x01</code>)</strong><br />
        <p>
          The flag value has several bits indicating the capabilities of the device.
          This part is always the same for BTHome (<code>0x020106</code>).
        </p>
          Flags data: <code>020106</code>
        <ul>
          <li><code>0x02</code> = length (2 bytes)</li>
          <li><code>0x01</code> = Flags</li>
          <li>
            <code>0x06</code> = in bits, this is <code>00000110</code>.<br />
            bit 1 and bit 2 are 1, meaning: <br />
            bit 1: “LE General Discoverable Mode” <br />
            bit 2: “BR/EDR Not Supported”
          </li>
        </ul>
        <strong>Service data (16-bit UUID) (<code>0x16</code>)</strong><br />
        <p>The service data contains the actual data. In the example, we have:</p>
        <ul>
          <li>
            Service data (16-bit UUID):
            <code>0A 16 FCD24002C40903BF13</code>
            (BTHome data)
            <ul>
              <li><code>0x0A</code> = length (10 bytes)</li>
              <li><code>0x16</code> = Service Data - 16-bit UUID</li>
              <li><code>0xFCD24002C40903BF13</code> = BTHome data (see below)</li>
            </ul>
          </li>
        </ul>
        <strong>Local Name (<code>0x08</code> or <code>0x09</code>)</strong><br />
        <p>
          Optional AD element is the local name,
          either the Shortened local name (<code>0x08</code>)
          or Complete local name (<code>0x09</code>).
        </p>
        <ul>
          <li>
            Example of Complete local name:
            <code>0B094449592D73656E736F72</code>
            <ul>
              <li><code>0x0B</code> = length (11 bytes)</li>
              <li><code>0x09</code> = Complete local name</li>
              <li>
                <code>0x4449592D73656E736F72</code> = the complete local name.
                <a
                  href="https://www.rapidtables.com/convert/number/hex-to-ascii.html"
                  target="_blank"
                  >After converting it to text</a
                >
                , it corresponds to "DIY-sensor". The name can be used to
                identify your sensor. If you decide not to broadcast a name,
                a default name "BTHome sensor" will be used. All names will
                automatically get a postfix with the last 4 characters of the
                MAC address to be able to identify different devices.
              </li>
            </ul>
          </li>
        </ul>
        <h3 id="bthome-data-format">BTHome Data format</h3>
        <p>
          The BTHome (service) data contains the <strong>16 bit UUID</strong>,
          the <strong>BTHome Device Information</strong> and one or
          multiple <strong>Measurements</strong>. <br /><br />In the
          example we have the following BTHome data:<br />
          <code>0xFCD2 40 02C409 03BF13</code>
        </p>
        <strong>UUID (<code>0xFCD2</code>)</strong><br />
        <p>
          This UUID should be used by receivers to recognize BTHome
          messages.<br /><br />
          Allterco Robotics, the manufacturer of Shelly devices, has sponsored this UUID
          for BTHome and it's free to use for everyone with <a href="/images/License_Statement_-_BTHOME.pdf">this license</a>.
        </p>
        <strong>BTHome Device Information (<code>0x40</code>)</strong><br />
        <p>
          The first byte after the UUID <code>0x40</code> is the BTHome device info byte,
          which has several bits indicating the capabilities of the device.
        </p>
        <ul>
          <li>bit 0: “Encryption flag”</li>
          <li>bit 1-4: “Reserved for future use”</li>
          <li>bit 5-7: “BTHome Version”</li>
        </ul>
        <p>
          In the example, we have <code>0x40</code>.
          After
          <a href="https://www.mathsisfun.com/binary-decimal-hexadecimal-converter.html">converting</a>,
          this to bits, we get <code>01000000</code>.<br />
          Note. bit 0 is the most right number, bit 7 is the most left number<br />
        </p>
        <ul>
          <li>bit 0: <code>0</code> = False: No encryption</li>
          <li>bit 5-7: <code>010</code> = 2: BTHome Version 2.<br />
            Other version numbers are currently not allowed</li>
        </ul>
        <strong>Temperature measurement (<code>0x02 C409</code>)</strong><br />
        <p>
        <ul>
          <li>
          The first measurement is a temperature measurement in the example. The first byte
            <code>0x02</code> is defining the type of measurement (temperature, see table below)
          </li>
          <li>
            The remaining bytes
            <code>0xC409</code> comprise the object value (little-endian). This value has to be in the format
            as given in the table below. The value will be multiplied with a factor, as given in the table below,
            to get a sufficient number of digits.
            <ul>
              <li>
                According to the table, a 2 bytes long unsigned integer is used in little-endian with a factor 0.01,
                for temperature measurements with object id <code>0x02</code>.
              </li>
              <li>
                <code>0xC409</code>
                as unsigned integer in little-endian is equal to 2500.
              </li>
              <li>
                The factor for a temperature measurement is 0.01, resulting in a
                temperature of 25.00°C
              </li>
            </ul>
          </li>
        </ul>
        <strong>Humidity measurement (<code>0x03 BF13</code>)</strong><br />
        <p>
        <ul>
          <li>
          The second measurement is a humidity measurement in the example. The first byte
            <code>0x03</code> is defining the type of measurement (humidity), 2 bytes, as a
            signed integer (see table below).
          </li>
          <li>
            <code>0xBF13</code> as unsigned integer in little-endian is equal to 5055, multiplied
            with a factor 0.01, this becomes a humidity of 50.55%.
          </li>
        </ul>
        <p>
          It is strongly advised to use object ids in numerical order (from low to high) in your advertisement.
          This will make sure that if you have a device (sensor) that is broadcasting a new measurement type
          that is added in a new (minor) BTHome update, while your BTHome receiver isn't updated yet to the same
          version, it will still be able to receive the older supported measurement types. A BTHome receiver will
          stop parsing object ids as soon as it finds an object id that isn't supported.
        </p>
        <h3 id="supported-data">Supported data types</h3>
        <p>
          <i>
            <a
              href="https://github.com/Bluetooth-Devices/bthome-ble/blob/V2/tests/test_parser_v2.py"
              >Full example payloads for each data type.</a
            >
          </i>
        </p>
        <h4 id="sensor-data">Sensor data</h4>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Object id</th>
                <th>Property</th>
                <th>Data type</th>
                <th>Factor</th>
                <th>Example</th>
                <th>Result</th>
                <th>Unit</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <code>0x01</code>
                </td>
                <td>battery</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>1</td>
                <td>
                  <code>0161</code>
                </td>
                <td>97</td>
                <td>
                  <code>%</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x12</code>
                </td>
                <td>co2</td>
                <td>uint16 (2&nbsp;bytes)</td>
                <td>1</td>
                <td>
                  <code>12E204</code>
                </td>
                <td>1250</td>
                <td>
                  <code>ppm</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x09</code>
                </td>
                <td>count</td>
                <td>uint (1&nbsp;bytes)</td>
                <td>1</td>
                <td>
                  <code>0960</code>
                </td>
                <td>96</td>
                <td></td>
              </tr>
              <tr>
                <td>
                  <code>0x3D</code>
                </td>
                <td>count</td>
                <td>uint (2&nbsp;bytes)</td>
                <td>1</td>
                <td>
                  <code>3D0960</code>
                </td>
                <td>24585</td>
                <td></td>
              </tr>
              <tr>
                <td>
                  <code>0x3E</code>
                </td>
                <td>count</td>
                <td>uint (4&nbsp;bytes)</td>
                <td>1</td>
                <td>
                  <code>3E2A2C0960</code>
                </td>
                <td>1611213866</td>
                <td></td>
              </tr>
              <tr>
                <td>
                  <code>0x08</code>
                </td>
                <td>dewpoint</td>
                <td>sint16 (2&nbsp;bytes)</td>
                <td>0.01</td>
                <td>
                  <code>08CA06</code>
                </td>
                <td>17.38</td>
                <td>
                  <code>°C</code>
                </td>
              </tr>

              <tr>
                <td>
                  <code>0X0A</code>
                </td>
                <td>energy</td>
                <td>uint24 (3&nbsp;bytes)</td>
                <td>0.001</td>
                <td>
                  <code>0A138A14</code>
                </td>
                <td>1346.067</td>
                <td>
                  <code>kWh</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x03</code>
                </td>
                <td>humidity</td>
                <td>uint16 (2&nbsp;bytes)</td>
                <td>0.01</td>
                <td>
                  <code>03BF13</code>
                </td>
                <td>50.55</td>
                <td>
                  <code>%</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x2E</code>
                </td>
                <td>humidity</td>
                <td>uint1 (1&nbsp;byte)</td>
                <td>1</td>
                <td>
                  <code>2E23</code>
                </td>
                <td>35</td>
                <td>
                  <code>%</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x05</code>
                </td>
                <td>illuminance</td>
                <td>uint24 (3&nbsp;bytes)</td>
                <td>0.01</td>
                <td>
                  <code>05138A14</code>
                </td>
                <td>13460.67</td>
                <td>
                  <code>lux</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x06</code>
                </td>
                <td>mass (kg)</td>
                <td>uint16 (2&nbsp;byte)</td>
                <td>0.01</td>
                <td>
                  <code>065E1F</code>
                </td>
                <td>80.3</td>
                <td>
                  <code>kg</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x07</code>
                </td>
                <td>mass (lb)</td>
                <td>uint16 (2&nbsp;byte)</td>
                <td>0.01</td>
                <td>
                  <code>073E1D</code>
                </td>
                <td>74.86</td>
                <td>
                  <code>lb</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x14</code>
                </td>
                <td>moisture</td>
                <td>uint16 (2&nbsp;bytes)</td>
                <td>0.01</td>
                <td>
                  <code>14020C</code>
                </td>
                <td>30.74</td>
                <td>
                  <code>%</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x2F</code>
                </td>
                <td>moisture</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>1</td>
                <td>
                  <code>2F23</code>
                </td>
                <td>35</td>
                <td>
                  <code>%</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x0D</code>
                </td>
                <td>pm2.5</td>
                <td>uint16 (2&nbsp;bytes)</td>
                <td>1</td>
                <td>
                  <code>0D120C</code>
                </td>
                <td>3090</td>
                <td>
                  <code>ug/m3</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x0E</code>
                </td>
                <td>pm10</td>
                <td>uint16 (2&nbsp;bytes)</td>
                <td>1</td>
                <td>
                  <code>0E021C</code>
                </td>
                <td>7170</td>
                <td>
                  <code>ug/m3</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x0B</code>
                </td>
                <td>power</td>
                <td>uint24 (3&nbsp;bytes)</td>
                <td>0.01</td>
                <td>
                  <code>0B021B00</code>
                </td>
                <td>69.14</td>
                <td>
                  <code>W</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x04</code>
                </td>
                <td>pressure</td>
                <td>uint24 (3&nbsp;bytes)</td>
                <td>0.01</td>
                <td>
                  <code>04138A01</code>
                </td>
                <td>1008.83</td>
                <td>
                  <code>hPa</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x02</code>
                </td>
                <td>temperature</td>
                <td>sint16 (2&nbsp;bytes)</td>
                <td>0.01</td>
                <td>
                  <code>02CA09</code>
                </td>
                <td>25.06</td>
                <td>
                  <code>°C</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x13</code>
                </td>
                <td>tvoc</td>
                <td>uint16 (2&nbsp;bytes)</td>
                <td>1</td>
                <td>
                  <code>133301</code>
                </td>
                <td>307</td>
                <td>
                  <code>ug/m3</code>
                </td>
              </tr>
              <tr>
                <td>
                  <code>0x0C</code>
                </td>
                <td>voltage</td>
                <td>uint16 (2&nbsp;bytes)</td>
                <td>0.001</td>
                <td>
                  <code>0C020C</code>
                </td>
                <td>3.074</td>
                <td>
                  <code>V</code>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <h4>Binary Sensor data</h4>
        <p>
          Binary sensor data should always be an uint8 of a single byte. Its
          value should be <code>1</code> for on, and <code>0</code> for off.
        </p>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Object id</th>
                <th>Property</th>
                <th>Data type</th>
                <th>Example</th>
                <th>Result</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <code>0x15</code>
                </td>
                <td>battery</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1500</code>
                </td>
                <td>0 (False = Low)</td>
              </tr>
              <tr>
                <td>
                  <code>0x16</code>
                </td>
                <td>battery charging</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1601</code>
                </td>
                <td>1 (True = Charging)</td>
              </tr>
              <tr>
                <td>
                  <code>0x17</code>
                </td>
                <td>carbon monoxide</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1700</code>
                </td>
                <td>0 (False = Not detected)</td>
              </tr>
              <tr>
                <td>
                  <code>0x18</code>
                </td>
                <td>cold</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1801</code>
                </td>
                <td>1 (True = Cold)</td>
              </tr>
              <tr>
                <td>
                  <code>0x19</code>
                </td>
                <td>connectivity</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1900</code>
                </td>
                <td>0 (False = Disconnected)</td>
              </tr>
              <tr>
                <td>
                  <code>0x1A</code>
                </td>
                <td>door</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1A00</code>
                </td>
                <td>0 (False = Closed)</td>
              </tr>
              <tr>
                <td>
                  <code>0x1B</code>
                </td>
                <td>garage door</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1B01</code>
                </td>
                <td>1 (True = Open)</td>
              </tr>
              <tr>
                <td>
                  <code>0x1C</code>
                </td>
                <td>gas</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1C01</code>
                </td>
                <td>1 (True = Detected)</td>
              </tr>
              <tr>
                <td>
                  <code>0x0F</code>
                </td>
                <td>generic boolean</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>0F01</code>
                </td>
                <td>1 (True = On)</td>
              </tr>
              <tr>
                <td>
                  <code>0x1D</code>
                </td>
                <td>heat</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1D00</code>
                </td>
                <td>0 (False = Normal)</td>
              </tr>
              <tr>
                <td>
                  <code>0x1E</code>
                </td>
                <td>light</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1E01</code>
                </td>
                <td>1 (True = Light detected)</td>
              </tr>
              <tr>
                <td>
                  <code>0x1F</code>
                </td>
                <td>lock</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1F01</code>
                </td>
                <td>1 (True = Unlocked)</td>
              </tr>
              <tr>
                <td>
                  <code>0x20</code>
                </td>
                <td>moisture</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2001</code>
                </td>
                <td>1 (True = Wet)</td>
              </tr>
              <tr>
                <td>
                  <code>0x21</code>
                </td>
                <td>motion</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2100</code>
                </td>
                <td>0 (False = Clear)</td>
              </tr>
              <tr>
                <td>
                  <code>0x22</code>
                </td>
                <td>moving</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2201</code>
                </td>
                <td>1 (True = Moving)</td>
              </tr>
              <tr>
                <td>
                  <code>0x23</code>
                </td>
                <td>occupancy</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2301</code>
                </td>
                <td>1 (True = Detected)</td>
              </tr>
              <tr>
                <td>
                  <code>0x11</code>
                </td>
                <td>opening</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1100</code>
                </td>
                <td>0 (False = Closed)</td>
              </tr>
              <tr>
                <td>
                  <code>0x24</code>
                </td>
                <td>plug</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2400</code>
                </td>
                <td>0 (False = Unplugged)</td>
              </tr>
              <tr>
                <td>
                  <code>0x10</code>
                </td>
                <td>power</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>1001</code>
                </td>
                <td>1 (True = On)</td>
              </tr>
              <tr>
                <td>
                  <code>0x25</code>
                </td>
                <td>presence</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2500</code>
                </td>
                <td>0 (False = Away)</td>
              </tr>
              <tr>
                <td>
                  <code>0x26</code>
                </td>
                <td>problem</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2601</code>
                </td>
                <td>1 (True = Problem)</td>
              </tr>
              <tr>
                <td>
                  <code>0x27</code>
                </td>
                <td>running</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2701</code>
                </td>
                <td>1 (True = Running)</td>
              </tr>
              <tr>
                <td>
                  <code>0x28</code>
                </td>
                <td>safety</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2800</code>
                </td>
                <td>0 (False = Unsafe)</td>
              </tr>
              <tr>
                <td>
                  <code>0x29</code>
                </td>
                <td>smoke</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2901</code>
                </td>
                <td>1 (True = Detected)</td>
              </tr>
              <tr>
                <td>
                  <code>0x2A</code>
                </td>
                <td>sound</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2A00</code>
                </td>
                <td>0 (False = Clear)</td>
              </tr>
              <tr>
                <td>
                  <code>0x2B</code>
                </td>
                <td>tamper</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2B00</code>
                </td>
                <td>0 (False = Off)</td>
              </tr>
              <tr>
                <td>
                  <code>0x2C</code>
                </td>
                <td>vibration</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2C01</code>
                </td>
                <td>1 (True = Detected)</td>
              </tr>
              <tr>
                <td>
                  <code>0x2D</code>
                </td>
                <td>window</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>2D01</code>
                </td>
                <td>1 (True = Closed)</td>
              </tr>
            </tbody>
          </table>
        </div>
        <h4>Events</h4>
        <p>
          Devices can also send events. Events are a combination of a device
          type (like a button or dimmer) and an event (like "press" or
          "long press" or "rotate left 3 steps"). Note: Events are not yet supported
          in Home Assistant.
        </p>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Object id</th>
                <th>Device type</th>
                <th>Event id</th>
                <th>Event type</th>
                <th>Event property</th>
                <th>Example</th>
                <th>Result</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <code>0x3A</code>
                </td>
                <td>button</td>
                <td>
                  <code>0x00</code>
                </td>
                <td>None</td>
                <td></td>
                <td>
                  <code>3A00</code>
                </td>
                <td></td>
              </tr>
              <tr>
                <td>
                  <code></code>
                </td>
                <td></td>
                <td>
                  <code>0x01</code>
                </td>
                <td>press</td>
                <td></td>
                <td>
                  <code>3A01</code>
                </td>
                <td>press</td>
              </tr>
              <tr>
                <td>
                  <code></code>
                </td>
                <td></td>
                <td>
                  <code>0x02</code>
                </td>
                <td>single_press</td>
                <td></td>
                <td>
                  <code>3A02</code>
                </td>
                <td>single_press</td>
              </tr>
              <tr>
                <td>
                  <code></code>
                </td>
                <td></td>
                <td>
                  <code>0x03</code>
                </td>
                <td>double_press</td>
                <td></td>
                <td>
                  <code>3A03</code>
                </td>
                <td>double_press</td>
              </tr>
              <tr>
                <td>
                  <code></code>
                </td>
                <td></td>
                <td>
                  <code>0x04</code>
                </td>
                <td>triple_press</td>
                <td></td>
                <td>
                  <code>3A04</code>
                </td>
                <td>triple_press</td>
              </tr>
              <tr>
                <td>
                  <code></code>
                </td>
                <td></td>
                <td>
                  <code>0x05</code>
                </td>
                <td>long_press</td>
                <td></td>
                <td>
                  <code>3A05</code>
                </td>
                <td>long_press</td>
              </tr>
              <tr>
                <td>
                  <code></code>
                </td>
                <td></td>
                <td>
                  <code>0x06</code>
                </td>
                <td>long_single_press</td>
                <td></td>
                <td>
                  <code>3A06</code>
                </td>
                <td>long_single_press</td>
              </tr>
              <tr>
                <td>
                  <code></code>
                </td>
                <td></td>
                <td>
                  <code>0x07</code>
                </td>
                <td>long_double_press</td>
                <td></td>
                <td>
                  <code>3A07</code>
                </td>
                <td>long_double_press</td>
              </tr>
              <tr>
                <td>
                  <code></code>
                </td>
                <td></td>
                <td>
                  <code>0x08</code>
                </td>
                <td>long_triple_press</td>
                <td></td>
                <td>
                  <code>3A08</code>
                </td>
                <td>long_triple_press</td>
              </tr>
                <td>
                  <code>0x3C</code>
                </td>
                <td>dimmer</td>
                <td>
                  <code>0x00</code>
                </td>
                <td>None</td>
                <td></td>
                <td>
                  <code>3C00</code>
                </td>
                <td></td>
              </tr>
              <tr>
                <td>
                  <code></code>
                </td>
                <td></td>
                <td>
                  <code>0x01</code>
                </td>
                <td>rotate left</td>
                <td># steps</td>
                <td>
                  <code>3C0103</code>
                </td>
                <td>rotate left 3 steps</td>
              </tr>
              <tr>
                <td>
                  <code></code>
                </td>
                <td></td>
                <td>
                  <code>0x02</code>
                </td>
                <td>rotate right</td>
                <td># steps</td>
                <td>
                  <code>3C020A</code>
                </td>
                <td>rotate right 10 steps</td>
              </tr>
            </tbody>
          </table>
        </div>
        <h4 id="misc-data">Misc data</h4>
        <h5>Packet id</h5>
        <p>
          The
          <code>packet id</code> is optional and can be used to filter duplicate
          data. This allows you to send multiple advertisements that are exactly
          the same, to improve the chance that the advertisement arrives. BTHome
          receivers should only process the advertisement if the
          <code>packet id</code> is different compared to the previous one. The
          <code>packet id</code> is a value between 0 (<code>0x00</code>) and
          255 (<code>0xFF</code>), and should be increased on every change in
          data. Note that most home automation software already have some other
          filtering for unchanged data. The use of a <code>packet id</code> is
          therefore often not needed.
        </p>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Object id</th>
                <th>Property</th>
                <th>Data Type</th>
                <th>Example</th>
                <th>Result</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <code>0x00</code>
                </td>
                <td>packet id</td>
                <td>uint8 (1&nbsp;byte)</td>
                <td>
                  <code>0009</code>
                </td>
                <td>9</td>
              </tr>
            </tbody>
          </table>
        </div>
        <h3 id="encryption">Encryption</h3>
        <p>
          Unencrypted BLE advertisements can be read by anyone nearby listening
          for Bluetooth packets. BTHome supports AES encryption (CCM mode) which
          works with a pre-shared key. When encrypted, the data can only be read
          by knowing the encryption key. The encryption key should be a 16 bytes
          long key (32 characters).
        </p>
        <p>
          More detailed information about encryption in BTHome is given on
          <a
            href="https://bthome.io/encryption.html"
            >this page</a
          >.
        </p>

        <h3 id="multiple_measurements">Multiple measurements/events of the same type</h3>
        <p>
          If you want to send multiple measurements of the same type, e.g. three temperatures,
          you can just add multiple measurements of the same type to the payload. A
          postfix will be added to the measurement name (e.g. temperature_2) in the order
          of which you define the measurements. Note that this implies that you will need to use
          the same order in each advertisement, to prevent measurements being assigned to the wrong
          entity. If only one measurement of a certain type is sent, no postfix will be used.
          <br /><br />
          For events, a special event `0x00` (None) is available, e.g. in case you have a
          device with two buttons and you only want to send an event for the 2nd button.
          An event `3A003A01` will send no event for the first button, and an event "press" for
          the second button.
        </p>
        <h3 id="scope-constraints">Scope & Constraints</h3>
        <p>
          The goal of the BTHome standard is to share sensor data efficiently
          via Bluetooth LE discovery packets. It is not the goal to offer a way
          for devices to share control.
        </p>
        <h3 id="sponsors">Sponsors</h3>
        <p>
          The BTHome 16 bit UUID has been sponsored by <strong>Allterco</strong>, who purchased the UUID
          for us at the Bluetooth SIG organisation. Allterco is more familiar to most of you as Shelly.
          Alltreco has made a license available for everyone to use the format for free, as long as
          you follow the (V2) format that is defined on this website. If you want to develop
          devices with BTHome, and you want to asure that it is really free, you can <a
            href="/images/License_Statement_-_BTHOME.pdf"
            >download the license.</a
          >
        </p>
      </div>

      <div class="footer">
        <div>
          <a href="https://bthome.io/">BTHome</a>
          &nbsp; – &nbsp;
          <a href="https://github.com/Bluetooth-Devices/bthome-ble/issues/">GitHub</a>
          &nbsp; – &nbsp;
          <a href="https://bthome.io/encryption.html">Encryption</a>
        </div>
        <div class="initiative">
          BTHome is created by
          <a href="https://github.com/ernst79">Ernst Klamer</a> with the help of
          <a href="https://github.com/pvvx">Victor</a>.
        </div>
        <div class="initiative">
          BTHome is sponsored by
          <a href="https://shelly.cloud/">Shelly</a>
        </div>
        <div class="initiative">
        Information about the BTHome V1 format can be found
          <a href="https://www.bthome.io/bthome_v1.html">here</a>.
        </div>
      </div>
    </div>
  </body>
</html>
